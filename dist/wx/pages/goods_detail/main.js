require("../../common/manifest.js")
require("../../common/vendor.js")
global.webpackJsonpMpvue([8],{"3Tyg":function(t,s,e){"use strict";var i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",[e("swiper",{attrs:{"indicator-dots":"",autoplay:"",circular:""}},t._l(t.goods_list.pics,function(s,i){return e("block",{key:s.pics_id},[e("swiper-item",{attrs:{mpcomid:"0_"+i}},[e("image",{attrs:{src:s.pics_mid_url,eventid:"0_"+i},on:{click:function(e){t.previewImg(s.pics_mid_url)}}})])],1)})),t._v(" "),e("view",{staticClass:"product-info"},[e("view",{staticClass:"product-head"},[e("text",{staticClass:"price"},[t._v("￥"+t._s(t.goods_list.goods_price))])]),t._v(" "),e("view",{staticClass:"product-body"},[e("view",{staticClass:"product-name"},[t._v(t._s(t.goods_list.goods_name))]),t._v(" "),t._m(0)]),t._v(" "),t._m(1)]),t._v(" "),t._m(2),t._v(" "),e("view",{staticClass:"part",attrs:{eventid:"1"},on:{click:t.selectAddress}},[e("view",{staticClass:"part-item"},[e("text",{staticClass:"note"},[t._v("送至")]),t._v(" "),t.address?e("view",[t._v("\n        "+t._s(t.address.provinceName)+t._s(t.address.cityName)+t._s(t.address.countyName)+"\n      ")]):e("view",[e("text",{staticStyle:{"font-size":"32rpx"}},[t._v("请选择收货地址")])]),t._v(" "),e("view",{staticClass:"iconfont icon-jiantouyou",staticStyle:{float:"right"}})])]),t._v(" "),e("view",{staticClass:"tabs"},[e("view",{staticClass:"tabs-head"},t._l(t.tabs,function(s,i){return e("view",{key:i,class:["tabs-item",i==t.currentIndex?"active":""],attrs:{eventid:"2_"+i},on:{click:function(s){t.changeSelectIndex(i)}}},[e("text",[t._v(t._s(s))])])})),t._v(" "),e("view",{staticClass:"tabs-body"},[e("view",{directives:[{name:"show",rawName:"v-show",value:0===t.currentIndex,expression:"currentIndex===0"}]},[e("view",{domProps:{innerHTML:t._s(t.goods_list.goods_introduce)}})]),t._v(" "),e("view",{directives:[{name:"show",rawName:"v-show",value:1===t.currentIndex,expression:"currentIndex===1"}]},t._l(t.goods_list.attrs,function(s,i){return e("view",{key:s.attr_id,staticClass:"param-item"},[e("text",{class:["note",i===t.goods_list.attrs.length-1?"param-item-last":""]},[t._v(t._s(s.attr_name))]),t._v(" "),e("text",{class:["description",i===t.goods_list.attrs.length-1?"param-item-last":""]},[t._v(t._s(s.attr_value))])])}))])]),t._v(" "),e("view",{staticClass:"fixed-bar"},[e("view",{staticClass:"item"},[e("button",{staticClass:"contact-btn",attrs:{"open-type":"contact"}}),t._v(" "),e("view",{staticClass:"iconfont icon-kefu"}),t._v(" "),e("text",{staticClass:"note"},[t._v("联系客服")])],1),t._v(" "),e("view",{staticClass:"item",attrs:{eventid:"3"},on:{click:t.buy}},[e("view",{staticClass:"iconfont icon-gouwuche"}),t._v(" "),e("text",{staticClass:"note"},[t._v("购物车")])]),t._v(" "),e("view",{staticClass:"btn-group"},[e("view",{staticClass:"btn yellow-btn",attrs:{eventid:"4"},on:{click:t.addCart}},[t._v("加入购物车")]),t._v(" "),e("view",{staticClass:"btn red-btn"},[t._v("立即购买")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"product-like"},[s("view",{staticClass:"iconfont icon-shoucang"}),this._v(" "),s("view",[s("text",[this._v("收藏")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"product-foot"},[s("text",[this._v("快递：免运费")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"part"},[s("view",{staticClass:"part-item part-line"},[s("text",{staticClass:"note"},[this._v("促销\n      ")]),this._v(" "),s("text",{staticClass:"color-main description"},[this._v("满300减30元\n      ")])]),this._v(" "),s("view",{staticClass:"part-item"},[s("text",{staticClass:"note"},[this._v("已选\n      ")]),this._v(" "),s("text",{staticClass:"description"},[this._v("黑色/S/1件\n      ")])])])}]};s.a=i},FWzI:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("5nAL"),a=e.n(i),n=e("vlE4");new a.a(n.a).$mount()},Nm4c:function(t,s){},dWAD:function(t,s,e){"use strict";var i=e("Xxa5"),a=e.n(i),n=e("exGp"),o=e.n(n),c=e("iTgA");s.a={data:function(){return{goods_list:{},tabs:["图文介绍","规格参数"],currentIndex:0,address:null}},onLoad:function(t){var s=t.goods_id;wx.getStorageSync("addressInfo")&&(this.address=wx.getStorageSync("addressInfo")),this.getGoodsDetail(s)},methods:{getGoodsDetail:function(t){var s=this;return o()(a.a.mark(function e(){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.$axios.get("api/public/v1/goods/detail?goods_id="+t);case 2:i=e.sent,s.goods_list=i.data.message;case 4:case"end":return e.stop()}},e,s)}))()},previewImg:function(t){var s=this.goods_list.pics.map(function(t){return t.pics_mid_url});wx.previewImage({current:t,urls:s})},changeSelectIndex:function(t){this.currentIndex=t},selectAddress:function(){var t=this;wx.chooseAddress({success:function(s){s.detailAddres=s.provinceName+s.cityName+s.countyName+s.detailInfo,wx.setStorageSync("addressInfo",s),t.address=s,console.log(s)},fail:function(t){var s=t.errMsg;console.log(s),"chooseAddress:fail auth deny"==s&&wx.showModal({title:"提示",content:"请到 我的>设置>打开授权",showCancel:!1,success:function(t){t.confirm&&wx.switchTab({url:"/pages/my/main"})}})}})},addCart:function(){console.log(this.goods_list);var t={goods_id:this.goods_list.goods_id,goods_number:1};wx.showToast({title:"加入购物车",image:"/static/img/duigou.png",duration:2e3}),Object(c.a)(t)},buy:function(){wx.switchTab({url:"/pages/shopcart/main"})}}}},vlE4:function(t,s,e){"use strict";var i=e("dWAD"),a=e("3Tyg");var n=function(t){e("Nm4c")},o=e("ybqe")(i.a,a.a,n,"data-v-1866b63d",null);s.a=o.exports}},["FWzI"]);